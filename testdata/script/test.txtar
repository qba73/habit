# Should not panic if no habit.json file.
exec habit
stderr Usage

# If $HOME is not writable it should fail
# We test scenario when we try to save file to not existing dir.
env HOME=/does-not-exist
! exec habit jog
stderr 'open /does-not-exist/.habit: no such file or directory'

env HOME=$TMPDIR

# Should create habit when executed with habit name.
exec habit jog
grep jog $HOME/.habit
cmp stdout file.golden

# Should not report on the same date entry.
exec habit walk
grep walk $HOME/.habit
exec habit walk
cmp stdout file_empty.golden

-- file.golden --
Good luck with your new habit 'jog'! Don't forget to do it again tomorrow.
-- file_broken_streak.golden --
You last did the habit 'jog' 3 days ago, so you're starting a new streak today. Good luck!
-- file_empty.golden --